{% extends "base.html" %}

{% block title %}Add Album | CoolCat Productions{% endblock %}

{% block content %}
<div class="content-box" style="max-width: 600px; margin: 50px auto; padding: 30px;">
    <h2>Add New Album</h2>
    
    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category, message in messages %}
                <div class="alert alert-{{ category }}" style="padding: 10px; margin-bottom: 20px; border-radius: 4px; 
                    background: {% if category == 'danger' %}#ff4444{% else %}#44ff44{% endif %}; 
                    color: white; text-align: center;">
                    {{ message }}
                </div>
            {% endfor %}
        {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('add_album') }}" enctype="multipart/form-data">
        <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
        
        <div style="margin-bottom: 20px;">
            <label for="title" style="display: block; margin-bottom: 8px; font-size: 1.1rem;">Album Title</label>
            <input type="text" id="title" name="title" required
                   style="width: 100%; padding: 12px; background: #222; color: #fff; border: 1px solid #333; border-radius: 4px;">
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="artist" style="display: block; margin-bottom: 8px; font-size: 1.1rem;">Artist</label>
            <input type="text" id="artist" name="artist" required
                   style="width: 100%; padding: 12px; background: #222; color: #fff; border: 1px solid #333; border-radius: 4px;">
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="year" style="display: block; margin-bottom: 8px; font-size: 1.1rem;">Year</label>
            <input type="text" id="year" name="year" required
                   style="width: 100%; padding: 12px; background: #222; color: #fff; border: 1px solid #333; border-radius: 4px;">
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="price" style="display: block; margin-bottom: 8px; font-size: 1.1rem;">Price ($)</label>
            <input type="number" id="price" name="price" step="0.01" min="0" required
                   style="width: 100%; padding: 12px; background: #222; color: #fff; border: 1px solid #333; border-radius: 4px;">
        </div>
        
        <div style="margin-bottom: 20px;">
            <label for="tracks" style="display: block; margin-bottom: 8px; font-size: 1.1rem;">Tracks (one per line)</label>
            <textarea id="tracks" name="tracks" rows="5" required
                   style="width: 100%; padding: 12px; background: #222; color: #fff; border: 1px solid #333; border-radius: 4px;"></textarea>
        </div>
        
        <div style="margin-bottom: 30px;">
            <label for="cover" style="display: block; margin-bottom: 8px; font-size: 1.1rem;">Album Cover</label>
            <input type="file" id="cover" name="cover" accept=".jpg,.jpeg,.png,.webp" required
                   style="width: 100%; padding: 12px; background: #222; color: #fff; border: 1px solid #333; border-radius: 4px;">
        </div>
        
        <button type="submit" class="btn" style="width: 100%; padding: 12px; font-size: 1.1rem;">Add Album</button>
    </form>
</div>
{% endblock %}
