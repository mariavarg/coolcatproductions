{% extends "base.html" %}

{% block content %}
<section class="cart-container">
    <h1>Your Shopping Cart</h1>
    
    {% if cart %}
    <div class="cart-items">
        {% for item in cart %}
        <div class="cart-item">
            <div class="cart-item-details">
                <h3>{{ item.details.title }}</h3>
                <p>{{ item.details.artist }} | {{ item.details.format|upper }}</p>
            </div>
            <div class="cart-item-quantity">
                <span>Qty: {{ item.quantity }}</span>
            </div>
            <div class="cart-item-price">
                ${{ "%.2f"|format(item.item_total) }}
            </div>
            <a href="{{ url_for('remove_from_cart', product_id=item.id) }}" class="btn">Remove</a>
        </div>
        {% endfor %}
    </div>
    
    <div class="totals">
        <p>Subtotal: ${{ "%.2f"|format(subtotal) }}</p>
        <p>VAT (20%): ${{ "%.2f"|format(vat) }}</p>
        <p class="total">Total: ${{ "%.2f"|format(total) }}</p>
    </div>
    
    <a href="{{ url_for('checkout') }}" class="btn">Proceed to Checkout</a>
    {% else %}
    <p>Your cart is empty</p>
    <a href="{{ url_for('shop') }}" class="btn">Continue Shopping</a>
    {% endif %}
</section>
{% endblock %}
